<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>AWB ADL 1.5 help</title>
  <meta content="text/html; charset=us-ascii" http-equiv="Content-Type" />
  <link rel="stylesheet" type="text/css" href="awb.css" media="screen" />
  <meta name="generator" content="CoffeeCup HTML Editor (www.coffeecup.com)" />
</head>

<body>
  <div id="container">
    <table style="BACKGROUND-COLOR: #9cd2f8" border="0" cellspacing="0" cellpadding="0" width="100%">
      <tbody>
        <tr valign="top">
          <td valign="middle" width="152"><img border="0" alt="openEHR logo" src="images/openehr_logo_trans_bg.png"
          width="150" height="50" /></td>

          <td>
            <div id="header">
              <h1>ADL Workbench (AWB) - learning ADL 1.5</h1>

              <p class="description">Download and Help pages</p>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div id="wrapper">
      <div id="content">
        <h2>ADL 1.5 Overview</h2>

        <p>TBD</p>

		<h2>Additions</h2>
		<h3>artefact_type marker</h3>
			<p>A new attribute has been added to the ARCHETYPE class to enable various instantiations of the AOM to be designated as having different design intention - 'archetype', 'template', 'template-component', 'operational template'. This allows ADL/AOM being used for archetypes, and various forms of templates.</p>

		<h3>Path-based constraints for specialised archetypes and templates</h3>
			<p>All specialised archetypes and templates state their constraints in a 'differential form' as follows:</p>

<pre>            EVALUATION[at0000.1] ? {	-- Diagnosis
                /data/items[at0002.1]/value ?
                    DV_CODED_TEXT ? {...}
                }
             }</pre>

<p>All specialised archetypes and templates will now be properly maintainable by tools, compared to the current situation where specialised archetypes contain copies of elements from the parent artefact.</p>
<h3>'before' and 'after' keywords for item ordering in containers</h3>
<p>The 'before' and 'after' keywords can be used to specify the ordering of elements added to a container in a specialised archetype or template. This ensures authors can maintain ordering of all items within container attributes, including over specialisation.</p>
<h3>'generated' marker</h3>
<p>Used to indicate that the artefact was generated by software, rather than authored by hand. This flag will probably not be needed in future, since legacy archetypes will now have the .adl extension, whereas source archetypes will be .adls and generated flat-form archetypes are .adlf. This can be used to mark an artefact as generated by software.</p>
<h3>Negation operator to express exclusions</h3>
	In specialised archetypes and templates particularly, unneeded elements from the parent artefact can now be logically be removed using the !matches operator. This is in addition to setting occurrences matches {0}, which is the more common form.
	Provides a way to remove terms from value-sets in specialised archetypes and templates.
<h3>New C_ARCHETYPE_ROOT class</h3>
	This new class allows an archetype to refer to another archetype, without having to use an archetype slot. Also used to perform slot-filling in templates.
	Supports archetype refactoring and reuse, as well as template slot-filling.
<h3>Annotations section</h3>
	Annotations can now be added on a per-node basis, with each annotation having one or more facets (representation = Hash<T>)
	Supports fine-grained documentation of elements of archetypes and templates.
<h3>Slot redefinition semantics, including slot-filling</h3>
	The semantics of redefining archetype slots in specialised archetypes and templates is now stated; slot-filling is regarded as a part of redefinition. This allows templates to be formally considered as being the same as specialised archetypes.
	Templates can now be represented using the AOM/ADL formalism rather than a separate formalism.
<h3>Default values</h3>
	The AOM now allows default values to be included on any node.
	Supports default value setting in templates.
<h3>Passthrough node flag</h3>
	The AOM now includes a 'passthrough' flag on C_COMPLEX_OBJECT indicating that this node is not significant in terms of display.
	Allows nodes required for structuring data but otherwise redundant for screen display and reporting to be detected by rendering software.
<h3>Reference model subtype matching semantics</h3>
	Specialised archetypes and templates can now redefine the reference model type of a node, e.g. DV_TEXT into DV_CODED_TEXT.
	Allows free text constraints to be changed to coded-only constraints.
<h3>Node congruence & conformance semantics</h3>
 	Rules have now been defined for determining if a node in a specialised artefact is conformant (consistent) or congruent (the same as) a corresponding node in the parent. This allows proper validation of specialised archetypes and templates to be implemented.
<h3>Operational template object model</h3>
	The object model of an operational template is now defined.
	A formal specification is now available for tooling to use, and for use in software environments.
<h3>Flattening semantics for operational templates</h3>
<p>	The rules for generating an operational template from source template & archetypes are now defined. This means that tools can implement a reliable transform from source artefacts to the operational artefact.</p>
<h3>Group construct (TODO)</h3>
<p>This feature supports groups within container attributes. Original proposal on this page.</p>
	<h2>Changes</h2> 	 
<h3>Existence and cardinality are now optional</h3>
<p>Due to reference model checking, the ADL 1.4 semantics of mandatory defaults for existence and cardinality have been removed; now the reference model is always used to determine the underlying existence and cardinality of an attribute. Archetypes and templates now only carry existence and cardinality if it is different from the reference model.</p>
<h3>Rules for at-codes</h3>
<p>Rules have been stated for when at-codes need to be specialised, according to the changes stated in the specialised artefact.
Editing tools can determine correct node ids in specialised artefacts.</p>
<h3>Invariants and declarations merged into rules</h3>
<p>A single 'rules' section is now used to contain invariant and declaration statements, which define constraints over multiple nodes in the artefact. The formalism and model of rules has been substantially improved. Simplifies overall artefact structure; allows constraints to refer to external entities, such as patient data, time etc.</p>
<h3>Terminology_extract section added to Ontology</h3>
<p>A terminology_extract sub-section is now included in the ontology section of an archetype, enabling codes & rubrics from terminology to be included. Mostly used for templates. Templates can directly include small extracts of external terminologies, making them standalone for such value-sets.</p>
<h3>Representation for ref set reference (TODO)</h3>
<p>A final addition is needed to either the AOM or the openEHR Profile model, of a class that defines how to represent a resolved reference to an external terminology; this class would replace a CONSTRAINT_REF node from a source template in an operational template.
The benefit is that external ref-set references will be resolved in an operational template.</p>
<h3>Semantic slot type (TODO)</h3>
<p>See this sub-page for a discussion on the advanced semantics of slots, and how it simplifies templates. </p>	 
<h3>node ids for C_DV_QUANTITY in ADL (TODO)</h3>
<p>Currently we cannot put a node-id on a dADL node like a C_DV_QUANTITY, or a special syntax node, like C_DV_ORDINAL or C_CODE_PHRASE. This does not affect the AOM or XML serialised form. </p>	 
<h3>Rules syntax (Xpath-based) (TODO)</h3>
<p>TBD</p>
<h3>Node_id optionality</h3>
<p>Currently node_id is specified as mandatory on all nodes. However, this is not semantically needed, and creates unnecessarily long paths which don't map cleanly to the equivalent XML Xpaths. ADL 1.5 defines precise rules for when node_ids are mandatory.</p> 
      </div>
    </div>

    <div id="navigation">
      <h2>Contents</h2>

      <ul>
                <li value="0"><a href="index.html">Home</a></li>
                <li value="0"><a href="getting_started.html">Getting started</a></li>
                <li value="0"><a href="learning_adl_15.html">Learning about ADL 1.5</a></li>
                <li value="0"><a href="browsing_archetypes.html">Browsing and compiling</a></li>
                <li value="0"><a href="templates.html">Working with templates</a></li>
                <li value="0"><a href="test_tool.html">The test tool</a></li>
                <li value="0"><a href="reference.html">Reference</a></li>
       </ul>
    </div>

    <div id="extra">
      <h2>XXXXXX</h2>

      <p>xxxxx.</p>

      <p><small>xxxxxx.</small></p>
    </div>

    <div id="footer">
      <ul>
                <li value="0"><a href="index.html">Home</a></li>
                <li value="0"><a href="getting_started.html">Getting started</a></li>
                <li value="0"><a href="learning_adl_15.html">Learning about ADL 1.5</a></li>
                <li value="0"><a href="browsing_archetypes.html">Browsing and compiling</a></li>
                <li value="0"><a href="templates.html">Working with templates</a></li>
                <li value="0"><a href="test_tool.html">The test tool</a></li>
                <li value="0"><a href="reference.html">Reference</a></li>
       </ul>

      <p>Copyright 2010 openEHR Foundation - $LastChangedDate$ $LastChangedRevision$</p>
    </div>
  </div>
</body>
</html>
